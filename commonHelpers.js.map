{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_YJpYmwsLRZ6M2DCMiKSWlLsHJw4uMStdNG7NZZsvsmL41AQItfWPO8E1K741NRKO';\n\nexport function fetchBreeds() {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data)\n    .catch(error => {\n      console.error('Error fetching breeds:', error);\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0])\n    .catch(error => {\n      console.error('Error fetching cat by breed:', error);\n      throw error;\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast/dist/js/iziToast.min.js';\n\nconst selectors = {\n  select: document.querySelector('.breed-select'),\n  catInfo: document.querySelector('.cat-info'),\n  loader: document.querySelector('.loader'),\n};\n\nfunction showLoader() {\n  updateLoaderVisibility(true);\n}\n\nfunction hideLoader() {\n  updateLoaderVisibility(false);\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n}\n\nfunction hideCatInfo() {\n  selectors.catInfo.innerHTML = '';\n}\n\nfunction displayCatInfo(catData) {\n  if (catData && catData.breeds && catData.breeds.length > 0) {\n    const breed = catData.breeds[0];\n    selectors.catInfo.innerHTML = `\n      <img src=\"${catData.url}\" alt=\"Cat Image\" width=500>\n      <h2>${breed.name}</h2>\n      <p>${breed.description}</p>\n      <p><strong>Temperament:</strong> ${breed.temperament}</p>\n    `;\n  } else {\n    showError('No breed information available for this cat.');\n  }\n}\n\nfunction updateLoaderVisibility(show) {\n  if (show) {\n    selectors.loader.classList.add('visible');\n  } else {\n    selectors.loader.classList.remove('visible');\n  }\n}\n\nselectors.select.addEventListener('change', event => {\n  const selectedBreedId = event.target.value;\n  if (selectedBreedId) {\n    hideCatInfo();\n    showLoader();\n\n    fetchCatByBreed(selectedBreedId)\n      .then(catData => {\n        displayCatInfo(catData);\n        hideLoader();\n      })\n      .catch(error => {\n        showError('Error fetching cat data. Please try again.');\n        hideLoader();\n        console.error('Error fetching cat data:', error);\n      });\n  }\n});\n\nwindow.addEventListener('load', () => {\n  hideCatInfo();\n\n  showLoader();\n\n  fetchBreeds()\n    .then(breeds => {\n      populateBreedsSelect(breeds);\n      hideLoader();\n    })\n    .catch(error => {\n      showError('Error fetching breeds. Please try again.');\n      hideLoader();\n      console.error('Error fetching breeds:', error);\n    });\n});\n\nfunction populateBreedsSelect(breeds) {\n  const options = breeds.map(\n    breed => `<option value=\"${breed.id}\">${breed.name}</option>`\n  );\n  selectors.select.innerHTML = options.join('');\n}\n"],"names":["axios","fetchBreeds","response","error","fetchCatByBreed","breedId","selectors","showLoader","updateLoaderVisibility","hideLoader","showError","message","iziToast","hideCatInfo","displayCatInfo","catData","breed","show","event","selectedBreedId","breeds","populateBreedsSelect","options"],"mappings":"wvBAEAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EACvC,wEAEK,SAASC,GAAc,CAC5B,OAAOD,EACJ,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EACJ,IAAI,wDAAwDK,CAAO,EAAE,EACrE,KAAKH,GAAYA,EAAS,KAAK,CAAC,CAAC,EACjC,MAAMC,GAAS,CACd,cAAQ,MAAM,+BAAgCA,CAAK,EAC7CA,CACZ,CAAK,CACL,CClBA,MAAMG,EAAY,CAChB,OAAQ,SAAS,cAAc,eAAe,EAC9C,QAAS,SAAS,cAAc,WAAW,EAC3C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,SAASC,GAAa,CACpBC,EAAuB,EAAI,CAC7B,CAEA,SAASC,GAAa,CACpBD,EAAuB,EAAK,CAC9B,CAEA,SAASE,EAAUC,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEA,SAASE,GAAc,CACrBP,EAAU,QAAQ,UAAY,EAChC,CAEA,SAASQ,EAAeC,EAAS,CAC/B,GAAIA,GAAWA,EAAQ,QAAUA,EAAQ,OAAO,OAAS,EAAG,CAC1D,MAAMC,EAAQD,EAAQ,OAAO,CAAC,EAC9BT,EAAU,QAAQ,UAAY;AAAA,kBAChBS,EAAQ,GAAG;AAAA,YACjBC,EAAM,IAAI;AAAA,WACXA,EAAM,WAAW;AAAA,yCACaA,EAAM,WAAW;AAAA,KAE1D,MACIN,EAAU,8CAA8C,CAE5D,CAEA,SAASF,EAAuBS,EAAM,CAChCA,EACFX,EAAU,OAAO,UAAU,IAAI,SAAS,EAExCA,EAAU,OAAO,UAAU,OAAO,SAAS,CAE/C,CAEAA,EAAU,OAAO,iBAAiB,SAAUY,GAAS,CACnD,MAAMC,EAAkBD,EAAM,OAAO,MACjCC,IACFN,IACAN,IAEAH,EAAgBe,CAAe,EAC5B,KAAKJ,GAAW,CACfD,EAAeC,CAAO,EACtBN,GACR,CAAO,EACA,MAAMN,GAAS,CACdO,EAAU,4CAA4C,EACtDD,IACA,QAAQ,MAAM,2BAA4BN,CAAK,CACvD,CAAO,EAEP,CAAC,EAED,OAAO,iBAAiB,OAAQ,IAAM,CACpCU,IAEAN,IAEAN,EAAa,EACV,KAAKmB,GAAU,CACdC,EAAqBD,CAAM,EAC3BX,GACN,CAAK,EACA,MAAMN,GAAS,CACdO,EAAU,0CAA0C,EACpDD,IACA,QAAQ,MAAM,yBAA0BN,CAAK,CACnD,CAAK,CACL,CAAC,EAED,SAASkB,EAAqBD,EAAQ,CACpC,MAAME,EAAUF,EAAO,IACrBJ,GAAS,kBAAkBA,EAAM,EAAE,KAAKA,EAAM,IAAI,WACtD,EACEV,EAAU,OAAO,UAAYgB,EAAQ,KAAK,EAAE,CAC9C"}